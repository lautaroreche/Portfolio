<script>
    function toggleCheckbox() {
        document.getElementById('check-hamburger-menu').checked = false;
    }
</script>

<script>
    document.addEventListener("DOMContentLoaded", () => {
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add("visible");
                    observer.unobserve(entry.target);
                }
            });
        }, { threshold: 0.1 });
    
        document.querySelectorAll('.animate-on-scroll').forEach(el => observer.observe(el));
    });
</script>

<script>
    const indicesActuales = new WeakMap();
    function cambiarImagen(button, direccion) {
        const card = button.closest('.project-card');
        const img = card.querySelector('.carousel-img');
        const data = card.dataset.images;
        if (!data) return;
        let images;
        try {
            images = JSON.parse(data);
        } catch (e) {
            console.error("Error al parsear las im√°genes:", e);
            return;
        }
        if (!images || images.length <= 1) return;
        if (!indicesActuales.has(card)) {
            indicesActuales.set(card, 0);
        }
        let index = indicesActuales.get(card);
        index = (index + direccion + images.length) % images.length;
        img.src = images[index];
        indicesActuales.set(card, index);
    }
</script>

<script>
    const toggleButton = document.getElementById('menu-toggle');
    const mobileMenu = document.getElementById('mobile-menu');
    let isOpen = false;
    
    toggleButton.addEventListener('click', () => {
        isOpen = !isOpen;
        mobileMenu.classList.toggle('translate-y-0', isOpen);
        mobileMenu.classList.toggle('-translate-y-full', !isOpen);
    });
    mobileMenu.querySelectorAll('a').forEach(link => {
        link.addEventListener('click', () => {
            isOpen = false;
            mobileMenu.classList.remove('translate-y-0');
            mobileMenu.classList.add('-translate-y-full');
        });
    });
    window.addEventListener('resize', () => {
        if (window.innerWidth >= 768) {
            isOpen = false;
            mobileMenu.classList.remove('translate-y-0');
            mobileMenu.classList.add('-translate-y-full');
        }
    });
</script>
